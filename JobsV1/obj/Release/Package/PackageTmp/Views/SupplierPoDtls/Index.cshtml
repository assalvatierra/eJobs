@model IEnumerable<JobsV1.Models.SupplierPoDtl>

@{
    ViewBag.Title = "Index";
}

<h2>Supplier PO Details</h2>

@foreach (var item in Model)
{
    <table class="table">
        <tr>
            <td>
                <span style="font-weight:bold">Supplier:</span>
                @Html.DisplayFor(modelItem => item.SupplierPoHdr.Supplier.Name)
            </td>

            <td>
                <span style="font-weight:bold">Date:</span>
                @Html.DisplayFor(modelItem => item.SupplierPoHdr.PoDate)
            </td>
            <td>
                <span style="font-weight:bold">Remarks:</span>
                @Html.DisplayFor(modelItem => item.SupplierPoHdr.Remarks )
            </td>
            <td>
                <span style="font-weight:bold">Status:</span>
                @Html.DisplayFor(modelItem => item.SupplierPoHdr.SupplierPoStatu.Status)
            </td>

        </tr>

    </table>

    <table class="table">

        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Remarks)
            </th>
            <th>
                Assigned Vehicle
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Amount)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.SupplierPoHdr.Remarks)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.JobService.Particulars)
            </th>
            <th></th>
        </tr>

        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.Remarks)
              
            </td>
            <td>

                @foreach (var car in ViewBag.supplierPoItems as IEnumerable<JobsV1.Models.SupplierPoItem>)
                {
                    <p>
                        @Html.DisplayFor(modelItem => car.InvItem.Description)
                        |
                        @Html.ActionLink("Remove", "Remove", new { SupPOItemId = car.Id },null  )
                    </p>
                }

                <a href="#" id="catbtn" data-toggle="modal" data-target="#SupplierPoItemsModal" style="margin-bottom:10px;">Add Car</a>
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Amount)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.SupplierPoHdr.Remarks)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.JobService.Particulars)
            </td>
            <td>
                @Html.ActionLink("Edit", "Edit", new { id = item.Id }) |
                @Html.ActionLink("Details", "Details", new { id = item.Id }) |
                @Html.ActionLink("Delete", "Delete", new { id = item.Id })
            </td>
        </tr>

    </table>
}


<p>
    @Html.ActionLink("Back to List", "Index", "SupplierPoHdrs", null,null) |
    @Html.ActionLink("Create New", "Create", new { Hdrid = ViewBag.HdrId })
</p>

<br />

<!-- Modal -->
<div class="modal fade" id="SupplierPoItemsModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">Company List</h4>
            </div>

            <div class="modal-body" id="modal2-content">

                <div class="list-group" id="categorylist">


                    @foreach (var carList in ViewBag.InvItemsList as IEnumerable<JobsV1.Models.InvItem>)
                    {
                    <a href="@Url.Action("addInvItem", "SupplierPoDtls", new { InvID = carList.Id, DtlsId = @ViewBag.Id })" class="list-group-item"> @carList.Description </a>
                    }
                </div>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
