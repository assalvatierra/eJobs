@model List<JobsV1.Models.PackageperUnit >

@{
    ViewBag.Title = "Index";
}

<h2>Packages Rate Per Unit</h2>

<p>
        @Html.ActionLink("Create New", "Create")
</p>

<p>
  

    <select id="group-input">
        @foreach (var item in ViewBag.Group as IEnumerable<JobsV1.Models.RateGroup>)
        {
            <text>
                <option value="@item.GroupName">@item.GroupName</option>
            </text>
        }
    </select>

    <button class="btn btn-primary" onclick="reportUpdate();">
        <span class="glyphicon glyphicon-search"></span> Filter
    </button>

<p>
   
   
</p>

<table class="table table-striped table-bordered">
    <tr>
        <th>
            Tour Package
        </th>
        <th>
            Daily Rate
        </th>
        <th>
            Weekly Rate
        </th>
        <th>
            Monthly Rate
        </th>
        <th>
           Add-on Rate
        </th>
        <th>
            Long HAul
        </th>
        <th>
            Fuel Daily
        </th>
        <th>
            Driver Meals
        </th>
        <th>
            Driver Accomodation
        </th>
        <th>
           Unit
        </th>
        <th>
            Group
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.PkgDesc )
        </td>
        <td>
            @item.RateperDay.ToString("N0")
        </td>
        <td>
            @item.RateperWeek.ToString("N0")
        </td>
        <td>
            @item.RateperMonth.ToString("N0")
        </td>
        <td>
            @item.AddOn.ToString()
        </td>
        <td>
            @item.FuelLonghaul.ToString("N0")
        </td>
        <td>
            @item.FuelDaily.ToString("N0")
        </td>
        <td>
            @item.FuelDaily
        </td>
        <td>
            @item.Acc
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Unit )
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Group)
        </td>

        <td>
            @Html.ActionLink("Edit", "Edit", new { id=item.Id }) |
            @Html.ActionLink("Details", "Details", new { id=item.Id }) |
            @Html.ActionLink("Delete", "Delete", new { id=item.Id })
        </td>
    </tr>
}

</table>
<p>
    @Html.ActionLink("Home", "Index", "Home", null, null) |
    @Html.ActionLink("Packages", "Index", "CarRatePackages", new { isActive = 1 }, null) |
    Unit Package Rates |
    @Html.ActionLink("Unit Rates", "Index", "CarRates", null, null)  |
    @Html.ActionLink("Groups", "Index", "RateGroups", null, null)
</p>


<script>
    function reportUpdate() {
        var groupVal = document.getElementById("group-input").value;

        var requestString = "/CarRateUnitPackages?";

        if (groupVal == "") {
            groupVal = "all";
        }

        requestString += "group=" + groupVal;

        window.location.href = requestString;

        //window.location.href = "/Reporting/Index/" + idVal + "&sDate=" + sDateVal + "&sDate=" + eDateVal;
    }

</script>
