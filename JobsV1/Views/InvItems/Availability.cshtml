@model IEnumerable<JobsV1.Models.ItemSchedule>

@{
    ViewBag.Title = "Item Availability";

    List<JobsV1.Models.DayLabel> vLabel = (List<JobsV1.Models.DayLabel>)ViewBag.dtLabel;
}

<h2>Item Availability</h2>

@Html.ActionLink("Create New", "jobCreate", "JobOrder", null, null)
| @Html.ActionLink("Work In Progress", "Index", "JobOrder")
| @Html.ActionLink("Job Table", "JobTable", "JobMains", new { span = 30 }, null)
| Availability


<table class="table">
    <tr>
        <td>ITEM</td>
        @foreach (var dtLabel in vLabel)
        {
            <td style="font:300 10px arial;">
                @{
                    string fColor = "darkgray";
                    if (@dtLabel.sDayName == "Sun")
                    { fColor = "red"; }
                    if (@dtLabel.sDayName == "Sat")
                    { fColor = "blue"; }
                }

                <span style="color: @fColor ; ">
                    @dtLabel.sDayNo
                </span>
                <br />
                <span style="color: @fColor ; ">
                    @dtLabel.sDayName
                </span>

            </td>
                    }


    </tr>
    @foreach (var item in Model)
    {
        <tr>
            <td nowrap>
                @Html.DisplayFor(modelItem => item.ItemId)
                &nbsp;
                @foreach (var iconpath in item.Item.InvItemCategories)
                {
                    <img src=@Url.Content(@iconpath.InvItemCat.ImgPath)
                         alt=@iconpath.InvItemCat.ImgPath height="21"
                         title=@iconpath.InvItemCat.ImgPath />
                }

                <span style="font:700 12px verdana,arial;">
                    @Html.ActionLink(item.Item.ItemCode + "-" + @item.Item.Description,
                "Details", new { id = @item.ItemId })
                </span>
                <span>@item.Item.Remarks</span>
            </td>

            @foreach (var dt in item.dayStatus)
            {
                string sBgColor = "none";
                if (dt.status == 1)
                { sBgColor = "darkgray"; }
                if (dt.status > 1)
                { sBgColor = "red"; }


                <td style="border:1px solid red; font:300 8px arial; background-color:@sBgColor; ">
                    <span>@Html.DisplayFor(modelItemday => dt.Day)</span>
                </td>
            }

        </tr>
    }

</table>
